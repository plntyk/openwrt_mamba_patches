--- linux-3.2.40.orig/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/tools/make.rules	1969-12-31 16:00:00.000000000 -0800
+++ linux-3.2.40/arch/arm/plat-armada/mv_hal/qd-dsdt-3.3/tools/make.rules	2013-04-13 23:49:38.000000000 -0700
@@ -0,0 +1,54 @@
+# make.rules - common build rules
+#
+# modification history
+# --------------------
+# 04-15-02,mj	created
+#
+########################################################################
+ifeq ($(TARGET),)
+TARGET	= $(notdir $(subst \,/,$(shell cd)))
+endif
+default : $(TARGET).o
+
+# Set searching directories for target and dependencies
+vpath %.o    $(OBJDIR)
+
+# Include RULES file if it exists
+ifeq ($(shell if exist $(DEPENDENCIES) $(ECHO) 1),1)
+include $(DEPENDENCIES)
+endif
+
+# Accumulate source files specified in each directory makefile
+COBJECTS  	= $(CSOURCES:.c=.o)
+AOBJECTS  	= $(ASOURCES:.s=.o)
+ifeq ($(OBJECTS),)
+OBJECTS  	= $(COBJECTS) $(AOBJECTS)
+endif
+
+$(TARGET).o : $(OBJECTS) deps
+	@ $(ECHO) 'Building $@'
+	$(LD) $(LDFLAGS) -Map $(OBJDIR)/$(TARGET).map -o $(OBJDIR)/$(TARGET).o $(addprefix $(OBJDIR)/,$(notdir $(OBJECTS)))
+
+$(OBJECTS) : %.o : %.c
+.c.o :
+	@if not exist $(OBJDIR) mkdir $(OBJDIR)
+	$(CC) $(CFLAGS) $(EXTRA_DEFINE) $(EXTRA_INCLUDE) $(ADDED_CFLAGS) -c $< -o $(OBJDIR)/$(notdir $@)
+
+deps : $(CSOURCES)
+	@$(ECHO) '##' > $(DEPENDENCIES)
+	@$(ECHO) '## This file is generated by "make"!' >> $(DEPENDENCIES)
+	@$(ECHO) '##' >> $(DEPENDENCIES)
+	@for %x in ($^) do \
+	    @$(ECHO) '  %x' & \
+	     $(CC) -M -MG $(CFLAGS) %x >> $(DEPENDENCIES) & \
+	     @$(ECHO) '##' >> $(DEPENDENCIES)
+
+.PHONY: clean
+clean:
+	$(RM) $(DEPENDENCIES)
+	- ($(CD) $(OBJDIR)) && $(RM) *.o
+	- ($(CD) $(OBJDIR)) && $(RM) *.map
+
+FORCE :
+
+# end of file
